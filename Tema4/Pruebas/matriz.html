<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Suma de Matrices con map()</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    background: #f5f5f5;
    padding: 30px;
  }
  h2 {
    margin: 10px 0;
  }
  table {
    border-collapse: collapse;
    margin: 10px;
  }
  td {
    border: 1px solid #444;
    padding: 8px;
    width: 60px;
    text-align: center;
  }
  input {
    width: 55px;
    border: none;
    background: transparent;
    text-align: center;
  }
  .container {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  }
  .result td {
    background-color: #d0f5d0;
    font-weight: bold;
  }
</style>
</head>
<body>
  <h1>Suma de dos Matrices (con map)</h1>

  <div class="container">
    <div>
      <h2>Matriz A</h2>
      <table id="matrizA"></table>
    </div>
    <div>
      <h2>Matriz B</h2>
      <table id="matrizB"></table>
    </div>
  </div>

  <div>
    <h2>Resultado (A + B)</h2>
    <table id="resultado" class="result"></table>
  </div>

<script>
const filas = 3;
const columnas = 3;

// FunciÃ³n para crear tabla (con o sin inputs)
function crearTabla(id, editable = false) {
  const tabla = document.getElementById(id);
  tabla.innerHTML = "";
  Array.from({ length: filas }).map(() => {
    const fila = document.createElement("tr");
    Array.from({ length: columnas }).map(() => {
      const celda = document.createElement("td");
      if (editable) {
        const input = document.createElement("input");
        input.type = "number";
        input.value = Math.floor(Math.random() * 10);
        input.addEventListener("input", actualizarResultado);
        celda.appendChild(input);
      } else {
        celda.textContent = "0";
      }
      fila.appendChild(celda);
    });
    tabla.appendChild(fila);
  });
}

// Obtener matriz desde la tabla
function obtenerMatriz(id) {
  const tabla = document.getElementById(id);
  return Array.from(tabla.rows).map(row =>
    Array.from(row.cells).map(celda =>
      parseFloat(celda.querySelector("input")?.value) || 0
    )
  );
}

// Calcular y mostrar resultado usando map()
function actualizarResultado() {
  const A = obtenerMatriz("matrizA");
  const B = obtenerMatriz("matrizB");
  const tablaRes = document.getElementById("resultado");

  const resultado = A.map((fila, i) =>
    fila.map((valor, j) => valor + B[i][j])
  );

  tablaRes.innerHTML = "";
  resultado.map(fila => {
    const tr = document.createElement("tr");
    fila.map(valor => {
      const td = document.createElement("td");
      td.textContent = valor;
      tr.appendChild(td);
    });
    tablaRes.appendChild(tr);
  });
}

// Crear tablas iniciales y calcular resultado
crearTabla("matrizA", true);
crearTabla("matrizB", true);
crearTabla("resultado", false);
actualizarResultado();
</script>
</body>
</html>
